# ============================================================================
# AALabelPP - Variables de Entorno
# Copie este archivo a .env y configure con sus credenciales
# ============================================================================

# ============================================================================
# BASE DE DATOS POSTGRESQL
# ============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=aalabelpp_db
DB_USER=postgres
DB_PASSWORD=tu_password_aqui

# Configuración de pool de conexiones
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# Debug (mostrar queries SQL)
DB_ECHO=false

# ============================================================================
# APIS DE MODELOS DE LENGUAJE
# ============================================================================

# OpenAI (GPT-4, GPT-3.5, embeddings)
OPENAI_API_KEY=sk-...
OPENAI_ORG_ID=org-...  # Opcional

# Google Gemini
GOOGLE_API_KEY=AI...

# Anthropic Claude (opcional)
ANTHROPIC_API_KEY=sk-ant-...

# ============================================================================
# CONFIGURACIÓN DE MODELOS
# ============================================================================

# Modelo de embeddings para búsqueda vectorial
# Opciones:
#   - sentence-transformers/all-mpnet-base-v2 (768 dim, local, gratis)
#   - sentence-transformers/paraphrase-multilingual-mpnet-base-v2 (768 dim, multilingüe)
#   - openai/text-embedding-3-small (1536 dim, API, pago)
#   - openai/text-embedding-3-large (3072 dim, API, pago)
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-mpnet-base-v2
EMBEDDING_DIMENSION=768

# Modelo LLM para generación RAG
# Opciones:
#   - gpt-4-turbo-preview (más potente, más caro)
#   - gpt-4 (balanceado)
#   - gpt-3.5-turbo (rápido, económico)
#   - gemini-pro (Google, balanceado)
#   - gemini-1.5-pro (Google, contexto largo)
LLM_MODEL=gpt-4-turbo-preview
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=4096

# ============================================================================
# CONFIGURACIÓN DE RAG
# ============================================================================

# Número de documentos a recuperar por búsqueda
RAG_TOP_K=5

# Umbral de similitud (0.0-1.0)
RAG_SIMILARITY_THRESHOLD=0.7

# Método de ranking
# Opciones: cosine, euclidean, dot_product
RAG_SIMILARITY_METHOD=cosine

# ============================================================================
# CONFIGURACIÓN DE PROCESAMIENTO
# ============================================================================

# OCR (Tesseract)
TESSERACT_PATH=/usr/bin/tesseract  # Linux/Mac
# TESSERACT_PATH=C:\Program Files\Tesseract-OCR\tesseract.exe  # Windows

# Idioma OCR
OCR_LANG=spa  # español

# Procesamiento por lotes
BATCH_SIZE=10
MAX_WORKERS=4

# ============================================================================
# CONFIGURACIÓN DE LOGGING
# ============================================================================

# Nivel de logging
# Opciones: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Archivo de logs
LOG_FILE=logs/aalabelpp.log

# Formato de logs
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ============================================================================
# CONFIGURACIÓN DE SEGURIDAD
# ============================================================================

# Secret key para sesiones (generar con: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=cambiar_esto_por_una_clave_segura_aleatoria

# Permitir CORS (para API web)
ALLOW_CORS=false
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ============================================================================
# CONFIGURACIÓN DE ARCHIVOS
# ============================================================================

# Directorio de datos
DATA_DIR=data

# Directorio de normativas
NORMATIVAS_DIR=data/normativas

# Directorio de uploads (etiquetas de entrada)
UPLOADS_DIR=data/uploads

# Directorio de outputs (etiquetas armonizadas)
OUTPUTS_DIR=data/outputs

# Tamaño máximo de archivo (MB)
MAX_FILE_SIZE_MB=50

# ============================================================================
# CONFIGURACIÓN DE DESARROLLO
# ============================================================================

# Modo desarrollo
DEBUG=false

# Auto-reload
AUTO_RELOAD=false

# ============================================================================
# CONFIGURACIÓN DE PRODUCCIÓN
# ============================================================================

# Número de workers
WORKERS=4

# Timeout de requests (segundos)
REQUEST_TIMEOUT=300

# Rate limiting (requests por minuto)
RATE_LIMIT=60

# ============================================================================
# MONITOREO Y MÉTRICAS
# ============================================================================

# Habilitar Prometheus metrics
ENABLE_METRICS=false

# Puerto de métricas
METRICS_PORT=9090

# ============================================================================
# NOTIFICACIONES (Opcional)
# ============================================================================

# Email para notificaciones
NOTIFICATION_EMAIL=admin@example.com

# SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=tu_email@gmail.com
SMTP_PASSWORD=tu_password_app

# Slack webhook (opcional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...

# ============================================================================
# NOTAS
# ============================================================================
# 
# 1. NO COMITEAR EL ARCHIVO .env AL REPOSITORIO
# 2. Agregar .env al .gitignore
# 3. Usar valores seguros en producción
# 4. Rotar credenciales periódicamente
# 5. Usar secrets managers en producción (AWS Secrets Manager, HashiCorp Vault)
#
# ============================================================================
